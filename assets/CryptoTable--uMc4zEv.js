import{_ as P,r as c,w as k,o as w,c as l,a as e,b as m,F as u,d as v,v as x,e as U,f,t as r,g as o,n as C,h as H}from"./index-Bhk91yWL.js";import{a as F}from"./index-D8rVyQy1.js";const L={class:"container"},S={class:"hot-coins"},T={class:"hot-coin"},$={class:"crypto-selector"},V=["value"],M={class:"live-price"},N={key:0},B={key:1,class:"loading-price"},D={key:0},E={class:"coin-dropdown"},j=["src"],z={key:1},A={__name:"CryptoTable",setup(I){const d=c([]),n=c("bitcoin"),p=c(!1),h=c(""),y=c([]),i=c(null),g=async()=>{try{console.log("ðŸ”„ Fetching live crypto prices...");const a=await F.get("http://localhost:5000/api/crypto-prices",{params:{asset:n.value}});a.data&&a.data.priceUsd?(i.value=parseFloat(a.data.priceUsd),console.log(`âœ… Updated live price: ${n.value} -> $${i.value}`)):(console.warn(`âš ï¸ No live price found for ${n.value}`),i.value=null)}catch(a){console.error("âŒ Error fetching live crypto prices:",a.message),i.value=null}},_=async()=>{try{const a=await F.get("https://api.coincap.io/v2/assets");a.data&&a.data.data&&(d.value=a.data.data.slice(0,100)),y.value=[...d.value].filter(s=>s.changePercent24Hr!==void 0).sort((s,t)=>parseFloat(t.changePercent24Hr)-parseFloat(s.changePercent24Hr)).slice(0,5)}catch(a){console.error("âŒ Error fetching crypto list:",a.message),d.value=[]}};return k(n,g),w(async()=>{await _(),await g()}),(a,s)=>(o(),l("div",L,[s[10]||(s[10]=e("h1",{class:"title"},"Live Crypto Prices",-1)),e("div",S,[s[4]||(s[4]=e("h2",{class:"hot-title"},"ðŸ”¥ Top 5 Hot Coins",-1)),e("ul",null,[(o(!0),l(u,null,v(y.value,t=>(o(),l("li",{key:t.id},[e("span",T,r(t.symbol.toUpperCase()),1),s[3]||(s[3]=f(" - ")),e("span",{class:C(["hot-percent",{positive:t.change>0,negative:t.change<0}])}," +"+r(parseFloat(t.changePercent24Hr||0).toFixed(2))+"% ",3)]))),128))])]),m(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>h.value=t),placeholder:"ðŸ” Search for a coin...",class:"search-bar"},null,512),[[x,h.value]]),e("div",$,[s[5]||(s[5]=e("label",{for:"crypto"},"Select Crypto:",-1)),m(e("select",{id:"crypto","onUpdate:modelValue":s[1]||(s[1]=t=>n.value=t)},[(o(!0),l(u,null,v(d.value,t=>(o(),l("option",{key:t.id,value:t.id},r(t.name)+" ("+r(t.symbol.toUpperCase())+") ",9,V))),128))],512),[[U,n.value]])]),e("div",M,[e("h3",null,[s[6]||(s[6]=f(" Current Price: ")),i.value!==null?(o(),l("span",N,"$"+r(i.value.toFixed(2)),1)):(o(),l("span",B,"Loading..."))])]),d.value.length?(o(),l("div",D,[e("details",E,[s[8]||(s[8]=e("summary",null,"ðŸ“Š View Top 100 Coins",-1)),e("table",null,[s[7]||(s[7]=e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"Coin"),e("th",null,"Price (USD)"),e("th",null,"24h Change"),e("th",null,"Trend")])],-1)),e("tbody",null,[(o(!0),l(u,null,v(a.displayedCoins,(t,b)=>(o(),l("tr",{key:t.id},[e("td",null,r(b+1),1),e("td",null,r(t.name)+" ("+r(t.symbol.toUpperCase())+")",1),e("td",null,"$"+r(parseFloat(t.priceUsd||0).toFixed(2)),1),e("td",{class:C({positive:parseFloat(t.changePercent24Hr)>0,negative:parseFloat(t.changePercent24Hr)<0})},r(parseFloat(t.changePercent24Hr||0).toFixed(2))+"% ",3),e("td",null,[t.history?(o(),l("img",{key:0,src:"https://image-charts.com/chart?cht=ls&chs=80x30&chd=t:"+t.history.join(","),alt:"Chart",class:"mini-chart"},null,8,j)):H("",!0)])]))),128))])])]),e("button",{onClick:s[2]||(s[2]=t=>p.value=!p.value),class:"see-more-button"},r(p.value?"See Less":"See More"),1)])):(o(),l("div",z,s[9]||(s[9]=[e("p",null,"Loading prices...",-1)])))]))}},G=P(A,[["__scopeId","data-v-3437fd05"]]);export{G as default};
